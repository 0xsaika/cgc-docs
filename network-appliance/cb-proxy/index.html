<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
    <meta content='width=device-width, initial-scale=1' name='viewport'>
    <link href='../../assets/images/businesscore-64x64.png' rel='icon'>
    <title>CGC Docs | cb-proxy</title>
    <link href="../../assets/stylesheets/application.css" rel="stylesheet" />
  </head>
  <body class='network-appliance network-appliance_cb-proxy network-appliance_cb-proxy_index'>
    <div id='container'>
      <div id='nav_col'>
        <div id='logo'>
          <a href='/'>
            CGC Docs, published by Legitimate Business Syndicate
          </a>
        </div>
        <div id='nav'>
          <ul>
            <li>
              <a href='/'>Welcome</a>
            </li>
            <li class='hdr'>Event-FAQ</li>
            <li>
              <a href='/Event-FAQ/event_faq/'>Event FAQ</a>
            </li>
            <li class='hdr'>cb-testing</li>
            <li>
              <a href='/cb-testing/cb-acceptance/'>cb-acceptance</a>
            </li>
            <li>
              <a href='/cb-testing/cb-replay/'>cb-replay</a>
            </li>
            <li>
              <a href='/cb-testing/cb-replay-pov/'>cb-replay-pov</a>
            </li>
            <li>
              <a href='/cb-testing/cb-test/'>cb-test</a>
            </li>
            <li>
              <a href='/cb-testing/poll-validate/'>poll-validate</a>
            </li>
            <li class='hdr'>cgc-release-documentation/newsletter</li>
            <li>
              <a href='/cgc-release-documentation/newsletter/ipc/'>News Letter 1: IPC</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/newsletter/cpp/'>News Letter 2: C++</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/newsletter/ctf/'>News Letter 3: CTF</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/newsletter/template/'>News Letter X: Template</a>
            </li>
            <li class='hdr'>cgc-release-documentation/walk-throughs</li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/building-a-cb/'>Building a Challenge Binary</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/cgc-repository/'>CGC Repositories</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/debugging-a-cb/'>Debugging a Challenge Binary</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/pin-for-decree/'>Running Intel PIN on DECREE Challenge Binaries</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/running-the-vm/'>Running the Virtual Machine</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/scoring-cbs/'>Scoring a Challenge Binary Set</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/submitting-a-cb/'>Submitting a Challenge Binary</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/testing-a-cb/'>Testing a Challenge Binary</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/understanding-poll-generators/'>Understanding Poll Generators</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/understanding-cfe-povs/'>Understanding Proofs of Vulnerability in CFE</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/using-the-network-appliance/'>Using the Network Appliance</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/virtual-competiton/'>Virtual Competition</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/ptrace-for-decree/'>Writing an Instruction Tracer for DECREE Challenge Binaries Using ptrace</a>
            </li>
            <li class='hdr'>cgc2elf</li>
            <li>
              <a href='/cgc2elf/cgc2elf/'>cgc2elf</a>
            </li>
            <li class='hdr'>cgcef-verify</li>
            <li>
              <a href='/cgcef-verify/cgcef_verify/'>cgcef_verify</a>
            </li>
            <li class='hdr'>libcgc</li>
            <li>
              <a href='/libcgc/allocate/'>allocate</a>
            </li>
            <li>
              <a href='/libcgc/cgcabi/'>CGC ABI</a>
            </li>
            <li>
              <a href='/libcgc/deallocate/'>deallocate</a>
            </li>
            <li>
              <a href='/libcgc/fdwait/'>fdwait</a>
            </li>
            <li>
              <a href='/libcgc/random/'>random</a>
            </li>
            <li>
              <a href='/libcgc/receive/'>receive</a>
            </li>
            <li>
              <a href='/libcgc/terminate/'>_terminate</a>
            </li>
            <li>
              <a href='/libcgc/transmit/'>transmit</a>
            </li>
            <li class='hdr'>libcgcef</li>
            <li>
              <a href='/libcgcef/cgc_executable_format/'>CGC Executable Format</a>
            </li>
            <li class='hdr'>libpov</li>
            <li>
              <a href='/libpov/libpov/'>libpov</a>
            </li>
            <li>
              <a href='/libpov/type1_negotiate/'>type1_negotiate</a>
            </li>
            <li>
              <a href='/libpov/type2_negotiate/'>type2_negotiate</a>
            </li>
            <li>
              <a href='/libpov/type2_submit/'>type2_submit</a>
            </li>
            <li class='hdr'>network-appliance</li>
            <li>
              <a href='/network-appliance/cb-packet-log/'>cb-packet-log</a>
            </li>
            <li>
              <a href='/network-appliance/cb-proxy/'>cb-proxy</a>
            </li>
            <li>
              <a href='/network-appliance/verify-rules/'>verify-rules</a>
            </li>
            <li class='hdr'>poll-generator</li>
            <li>
              <a href='/poll-generator/generate-polls/'>generate-polls</a>
            </li>
            <li class='hdr'>pov-xml2c</li>
            <li>
              <a href='/pov-xml2c/pov-xml2c/'>pov-xml2c</a>
            </li>
            <li class='hdr'>service-launcher</li>
            <li>
              <a href='/service-launcher/cb-server/'>cb-server</a>
            </li>
            <li class='hdr'>virtual-competition</li>
            <li>
              <a href='/virtual-competition/ti-client/'>ti-client</a>
            </li>
            <li>
              <a href='/virtual-competition/ti-rotate/'>ti-rotate</a>
            </li>
            <li>
              <a href='/virtual-competition/ti-server/'>ti-server</a>
            </li>
          </ul>
        </div>
      </div>
      <div id='main_col'>
        <div id='title'>
          <h1>cb-proxy</h1>
        </div>
        <div id='content'>
          <p>cb-proxy - CGC Network Appliance</p>
          
          <h1 id="synopsis">SYNOPSIS</h1>
          
          <div class="language-sh highlighter-rouge"><pre class="highlight"><code>cb-proxy <span class="o">[</span>options] --host HOST --port PORT&#x000A;</code></pre>
          </div>
          
          <h1 id="description">DESCRIPTION</h1>
          
          <p><code class="highlighter-rouge">cb-proxy</code> is an asynchronous TCP proxy server that allows for traffic inspection, modification, and logging in the DECREE environment.  Inspection is performed in a 'Snort Like' domain specific language.</p>
          
          <h1 id="arguments">ARGUMENTS</h1>
          
          <dl>
            <dt><code class="highlighter-rouge">--host HOST</code></dt>
            <dd>Specify the <code class="highlighter-rouge">HOST</code> to forward traffic.</dd>
            <dt><code class="highlighter-rouge">--port PORT</code></dt>
            <dd>Specify the <code class="highlighter-rouge">PORT</code> to listen for incoming sessions and to connect to <code class="highlighter-rouge">HOST</code>.</dd>
          </dl>
          
          <h1 id="options">OPTIONS</h1>
          
          <dl>
            <dt><code class="highlighter-rouge">-h</code></dt>
            <dd>Display a usage message and exit</dd>
            <dt><code class="highlighter-rouge">--rules RULES</code></dt>
            <dd>Specify a <code class="highlighter-rouge">RULES</code> file to for traffic inspection</dd>
            <dt><code class="highlighter-rouge">--negotiate</code></dt>
            <dd>Ignore the DECREE negotiation content that is used during CFE for PRNG seed communication</dd>
            <dt><code class="highlighter-rouge">--listen_host HOST</code></dt>
            <dd>Only listen for traffic on the specified <code class="highlighter-rouge">HOST</code> address</dd>
            <dt><code class="highlighter-rouge">--listen_port PORT</code></dt>
            <dd>Optionally listen for a different port than the destination port</dd>
            <dt><code class="highlighter-rouge">--outbound_host HOST</code></dt>
            <dd>Specify the <code class="highlighter-rouge">HOST</code> address to use for outbound communication</dd>
            <dt><code class="highlighter-rouge">--max_connections MAX_CONNECTIONS</code></dt>
            <dd>Specify the maximum number of connections to process before exiting</dd>
            <dt><code class="highlighter-rouge">--pcap_host HOST</code></dt>
            <dd>Specify the <code class="highlighter-rouge">HOST</code> to log the network traffic as it is sent to the destination</dd>
            <dt><code class="highlighter-rouge">--pcap_port PORT</code></dt>
            <dd>Specify the <code class="highlighter-rouge">PORT</code> to log the network traffic as it is sent to the destination</dd>
            <dt><code class="highlighter-rouge">--csid CSID</code></dt>
            <dd>Specify a unique identifier for the logged network traffic</dd>
            <dt><code class="highlighter-rouge">--buffer_size SIZE</code></dt>
            <dd>Specify a maximum size for the inspection buffer sliding window</dd>
          </dl>
          
          <h1 id="traffic-logging">Traffic Logging</h1>
          
          <p>If the <code class="highlighter-rouge">pcap_host</code> option is provided, cb-proxy will send all traffic via UDP to the specified host.</p>
          
          <p>A sample application <code class="highlighter-rouge">cb-packet-log</code> is provided that listens to the traffic and records it in PCAP format.</p>
          
          <p>A sample wireshark decoder, <code class="highlighter-rouge">cgc.lua</code>, can be used to inspect the pcaps generated by <code class="highlighter-rouge">cb-packet-log</code>.</p>
          
          <h1 id="example-uses">EXAMPLE USES</h1>
          
          <dl>
            <dt><code class="highlighter-rouge">cb-proxy --host cb --port 12345</code></dt>
            <dd>This will create a proxy that forwards any communication between the client and server listening on port '12345' on the host 'cb'.</dd>
            <dt><code class="highlighter-rouge">cb-proxy --host cb --port 12345 --rules ids.rules</code></dt>
            <dd>This will create a proxy that inspects communication between the client and server listening on port '12345' on the host 'cb', using the rules specified in 'ids.rules'.</dd>
          </dl>
          
          <h1 id="copyright">COPYRIGHT</h1>
          
          <p>Copyright (C) 2015, Brian Caswell</p>
          
          <h1 id="see-also">SEE ALSO</h1>
          
          <p><a href="/service-launcher/cb-server/">cb-server(1)</a>,
          <a href="/cb-testing/cb-replay/">cb-replay(1)</a>,
          <a href="/cb-testing/cb-replay-pov">cb-replay-pov(1)</a>,
          <a href="/network-appliance/cb-packet-log/">cb-packet-log(1)</a></p>
          
          <p>For more information relating to DARPA's Cyber Grand Challenge, please visit <a href="http://www.darpa.mil/cybergrandchallenge/">http://www.darpa.mil/cybergrandchallenge/</a></p>
        </div>
      </div>
    </div>
    <footer>
      <div id='impressum'>Published by Legitimate Business Syndicate</div>
      <div id='timestamp'>Built at 2016-05-20T18:14:52Z</div>
      <div>
        <ul>
          <li><a href="https://legitbs.net">Homepage</a></li>
          <li><a href="https://twitter.com/legitbs_ctf">Twitter</a></li>
          <li><a href="https://github.com/legitbs">GitHub</a></li>
          <li><a href="https://github.com/legitbs/cgc-docs">This repo</a></li>
        </ul>
      </div>
    </footer>
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="../../assets/javascripts/application.js"></script>
  </body>
</html>

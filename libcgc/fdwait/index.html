<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
    <meta content='width=device-width, initial-scale=1' name='viewport'>
    <title>fdwait</title>
    <link href="../../assets/stylesheets/application.css" rel="stylesheet" />
  </head>
  <body class='libcgc libcgc_fdwait libcgc_fdwait_index'>
    <div id='container'>
      <div id='nav_col'>
        <div id='logo'>
          <a href='/'>
            CGC Docs, published by Legitimate Business Syndicate
          </a>
        </div>
        <div id='nav'>
          <ul>
            <li>
              <a href='/'>CGC Docs</a>
            </li>
            <li class='hdr'>Event-FAQ</li>
            <li>
              <a href='/Event-FAQ/event_faq/'>Event FAQ</a>
            </li>
            <li class='hdr'>cb-testing</li>
            <li>
              <a href='/cb-testing/cb-acceptance/'>cb-acceptance</a>
            </li>
            <li>
              <a href='/cb-testing/cb-replay/'>cb-replay</a>
            </li>
            <li>
              <a href='/cb-testing/cb-replay-pov/'>cb-replay-pov</a>
            </li>
            <li>
              <a href='/cb-testing/cb-test/'>cb-test</a>
            </li>
            <li>
              <a href='/cb-testing/poll-validate/'>poll-validate</a>
            </li>
            <li class='hdr'>cgc-release-documentation/newsletter</li>
            <li>
              <a href='/cgc-release-documentation/newsletter/ipc/'>News Letter 1: IPC</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/newsletter/cpp/'>News Letter 2: C++</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/newsletter/ctf/'>News Letter 3: CTF</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/newsletter/template/'>News Letter X: Template</a>
            </li>
            <li class='hdr'>cgc-release-documentation/walk-throughs</li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/building-a-cb/'>Building a Challenge Binary</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/cgc-repository/'>CGC Repositories</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/debugging-a-cb/'>Debugging a Challenge Binary</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/pin-for-decree/'>Running Intel PIN on DECREE Challenge Binaries</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/running-the-vm/'>Running the Virtual Machine</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/scoring-cbs/'>Scoring a Challenge Binary Set</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/submitting-a-cb/'>Submitting a Challenge Binary</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/testing-a-cb/'>Testing a Challenge Binary</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/understanding-poll-generators/'>Understanding Poll Generators</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/understanding-cfe-povs/'>Understanding Proofs of Vulnerability in CFE</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/using-the-network-appliance/'>Using the Network Appliance</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/virtual-competiton/'>Virtual Competition</a>
            </li>
            <li>
              <a href='/cgc-release-documentation/walk-throughs/ptrace-for-decree/'>Writing an Instruction Tracer for DECREE Challenge Binaries Using ptrace</a>
            </li>
            <li class='hdr'>cgc2elf</li>
            <li>
              <a href='/cgc2elf/cgc2elf/'>cgc2elf</a>
            </li>
            <li class='hdr'>cgcef-verify</li>
            <li>
              <a href='/cgcef-verify/cgcef_verify/'>cgcef_verify</a>
            </li>
            <li class='hdr'>libcgc</li>
            <li>
              <a href='/libcgc/allocate/'>allocate</a>
            </li>
            <li>
              <a href='/libcgc/cgcabi/'>CGC ABI</a>
            </li>
            <li>
              <a href='/libcgc/deallocate/'>deallocate</a>
            </li>
            <li>
              <a href='/libcgc/fdwait/'>fdwait</a>
            </li>
            <li>
              <a href='/libcgc/random/'>random</a>
            </li>
            <li>
              <a href='/libcgc/receive/'>receive</a>
            </li>
            <li>
              <a href='/libcgc/terminate/'>_terminate</a>
            </li>
            <li>
              <a href='/libcgc/transmit/'>transmit</a>
            </li>
            <li class='hdr'>libcgcef</li>
            <li>
              <a href='/libcgcef/cgc_executable_format/'>CGC Executable Format</a>
            </li>
            <li class='hdr'>libpov</li>
            <li>
              <a href='/libpov/libpov/'>libpov</a>
            </li>
            <li>
              <a href='/libpov/type1_negotiate/'>type1_negotiate</a>
            </li>
            <li>
              <a href='/libpov/type2_negotiate/'>type2_negotiate</a>
            </li>
            <li>
              <a href='/libpov/type2_submit/'>type2_submit</a>
            </li>
            <li class='hdr'>network-appliance</li>
            <li>
              <a href='/network-appliance/cb-packet-log/'>cb-packet-log</a>
            </li>
            <li>
              <a href='/network-appliance/cb-proxy/'>cb-proxy</a>
            </li>
            <li>
              <a href='/network-appliance/verify-rules/'>verify-rules</a>
            </li>
            <li class='hdr'>poll-generator</li>
            <li>
              <a href='/poll-generator/generate-polls/'>generate-polls</a>
            </li>
            <li class='hdr'>pov-xml2c</li>
            <li>
              <a href='/pov-xml2c/pov-xml2c/'>pov-xml2c</a>
            </li>
            <li class='hdr'>service-launcher</li>
            <li>
              <a href='/service-launcher/cb-server/'>cb-server</a>
            </li>
            <li class='hdr'>virtual-competition</li>
            <li>
              <a href='/virtual-competition/ti-client/'>ti-client</a>
            </li>
            <li>
              <a href='/virtual-competition/ti-rotate/'>ti-rotate</a>
            </li>
            <li>
              <a href='/virtual-competition/ti-server/'>ti-server</a>
            </li>
          </ul>
        </div>
      </div>
      <div id='main_col'>
        <div id='title'>
          <h1>fdwait</h1>
        </div>
        <div id='content'>
          <p><code class="highlighter-rouge">fdwait</code> - wait for file descriptors to become ready</p>
          
          <h1 id="library">LIBRARY</h1>
          <p>library "libcgc"</p>
          
          <h1 id="synopsis">SYNOPSIS</h1>
          
          <div class="language-c highlighter-rouge"><pre class="highlight"><code><span class="cp">#include &lt;libcgc.h&gt;&#x000A;</span>&#x000A;<span class="kt">int</span> <span class="n">fdwait</span><span class="p">(</span><span class="kt">int</span> <span class="n">nfds</span><span class="p">,</span> <span class="n">fd_set</span> <span class="o">*</span><span class="n">readfds</span><span class="p">,</span> <span class="n">fd_set</span> <span class="o">*</span><span class="n">writefds</span><span class="p">,</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">timeval</span> <span class="o">*</span><span class="n">timeout</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">readyfds</span><span class="p">)</span>&#x000A;</code></pre>
          </div>
          
          <h1 id="description">DESCRIPTION</h1>
          <p>The <code class="highlighter-rouge">fdwait</code> system call allows a program to monitor multiple file descriptors,
          waiting until one or more of the descriptors become "ready" for some class of
          I/O operation (e.g., input possible). A file descriptor is considered ready if
          it is possible to perform the corresponding I/O operation (e.g., <a href="/libcgc/receive/">receive(2)</a>)
          without blocking.</p>
          
          <p>Two independent sets of file descriptors are watched. Those listed in
          <code class="highlighter-rouge">readfds</code> will be watched to see if characters become available for reading
          (more precisely, to see if a read will not block; in particular, a file
          descriptor is also ready on end-of-file), and those in <code class="highlighter-rouge">writefds</code> will be
          watched to see if a write will not block.  On exit, the sets are modified
          in place to indicate which file descriptors actually changed status.
          Each of the two file descriptor sets may be specified as
          <code class="highlighter-rouge">NULL</code> if no file descriptors are to be watched for the corresponding class
          of events.</p>
          
          <p>Four macros are provided to manipulate the sets. <code class="highlighter-rouge">FD_ZERO</code> clears a set.
          <code class="highlighter-rouge">FD_SET</code> and <code class="highlighter-rouge">FD_CLR</code> respectively add and remove a given file descriptor
          from a set. <code class="highlighter-rouge">FD_ISSET</code> tests to see if a file descriptor is part of the set;
          this is useful after <code class="highlighter-rouge">fdwait</code> returns.</p>
          
          <p>The <code class="highlighter-rouge">nfds</code> parameter is the highest-numbered file descriptor in any of the
          two sets, plus 1.</p>
          
          <p>The timeout argument specifies the minimum interval that <code class="highlighter-rouge">fdwait</code> should
          block waiting for a file descriptor to become ready. This interval will be
          rounded up to the system clock granularity, and kernel scheduling delays
          mean that the blocking interval may overrun by a small amount.
          If both fields of the timeval structure are zero, then <code class="highlighter-rouge">fdwait</code> returns
          immediately (useful for polling). If timeout is <code class="highlighter-rouge">NULL</code> (no timeout),
          <code class="highlighter-rouge">fdwait</code> can block indefinitely.</p>
          
          <p>The <code class="highlighter-rouge">fdwait</code> function is invoked through system call number 4.</p>
          
          <h1 id="return-value">RETURN VALUE</h1>
          <p>On success, <code class="highlighter-rouge">fdwait</code> returns zero and, if <code class="highlighter-rouge">readyfds</code> is not <em>NULL</em>,
          <code class="highlighter-rouge">*readyfds</code> is set to the number of file descriptors contained in the two
          returned descriptor sets (that is, the total number of bits that are set in
          <em>readfds</em> and <code class="highlighter-rouge">writefds</code>) which may be zero if the timeout expires before
          anything interesting happens.</p>
          
          <p>On error, an error code is returned and <code class="highlighter-rouge">*readyfds</code> is undefined;
          the sets become undefined, so do not rely on their contents after an error.</p>
          
          <h1 id="errors">ERRORS</h1>
          
          <dl>
            <dt>EBADF</dt>
            <dd>an invalid file descriptor was given in one of the sets (perhaps a file descriptor that was already closed, or one on which an error has occurred).</dd>
            <dt>EINVAL</dt>
            <dd><code class="highlighter-rouge">nfds</code> is negative or the value contained within <code class="highlighter-rouge">*timeout</code> is invalid.</dd>
            <dt>EFAULT</dt>
            <dd>One of the arguments <em>readfds</em>, <em>writefds</em>, <em>timeout</em>, <em>readyfds</em> points to an invalid address.</dd>
            <dt>ENOMEM</dt>
            <dd>unable to allocate memory for internal tables.</dd>
          </dl>
          
          <h1 id="see-also">SEE ALSO</h1>
          <p><a href="/libcgc/allocate/">allocate(2)</a>,
          <a href="/libcgc/cgcabi/">cgcabi(2)</a>,
          <a href="/libcgc/deallocate/">deallocate(2)</a>,
          <a href="/libcgc/random/">random(2)</a>,
          <a href="/libcgc/receive/">receive(2)</a>,
          <a href="/libcgc/terminate/">_terminate(2)</a>,
          <a href="/libcgc/transmit/">transmit(2)</a></p>
        </div>
      </div>
    </div>
    <footer>
      <div id='impressum'>Published by Legitimate Business Syndicate</div>
      <div id='timestamp'>Built at 2016-05-20T17:40:32Z</div>
      <div>
        <ul>
          <li><a href="https://legitbs.net">Homepage</a></li>
          <li><a href="https://twitter.com/legitbs_ctf">Twitter</a></li>
          <li><a href="https://github.com/legitbs">GitHub</a></li>
          <li><a href="https://github.com/legitbs/cgc-docs">This repo</a></li>
        </ul>
      </div>
    </footer>
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="../../assets/javascripts/application.js"></script>
  </body>
</html>
